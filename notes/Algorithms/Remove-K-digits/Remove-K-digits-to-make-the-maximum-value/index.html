<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Remove K digits We are given an array of digits $digits[1..n]$, and a number $k$. We must remove k digits from the array."><title>ðŸª´ Quartz 3.3</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://datoad4510.github.io/test-blog//icon.png><link href=https://datoad4510.github.io/test-blog/styles.7153093e4d1bbb584a28469cadfa3f88.min.css rel=stylesheet><link href=https://datoad4510.github.io/test-blog/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://datoad4510.github.io/test-blog/js/darkmode.acade3b8ed18a339bcee82e811d8ee56.min.js></script>
<script src=https://datoad4510.github.io/test-blog/js/util.9825137f5e7825e8553c68ce39ac9e44.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://datoad4510.github.io/test-blog/js/popover.9b72b70bd35617d0635e9d15463662b2.min.js></script>
<script src=https://datoad4510.github.io/test-blog/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://datoad4510.github.io/test-blog/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://datoad4510.github.io/test-blog/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const BASE_URL="https://datoad4510.github.io/test-blog/",fetchData=Promise.all([fetch("https://datoad4510.github.io/test-blog/indices/linkIndex.88953b393cd59577766732686c3a45d1.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://datoad4510.github.io/test-blog/indices/contentIndex.1ff9034cbc08206fa928d91716310268.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://datoad4510.github.io/test-blog",!0,!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://datoad4510.github.io/test-blog",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'â€™':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/datoad4510.github.io\/test-blog\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://datoad4510.github.io/test-blog/js/full-text-search.24827f874defbbc6d529926cbfcfb493.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://datoad4510.github.io/test-blog/>ðŸª´ Quartz 3.3</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><p class=meta>Last updated
Oct 13, 2022
<a href=https://github.com/jackyzha0/quartz/tree/hugo/content/notes/Algorithms/Remove%20K%20digits/Remove%20K%20digits%20to%20make%20the%20maximum%20value.md rel=noopener>Edit Source</a></p><ul class=tags></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><ol><li><a href=#examples>Examples:</a></li></ol></li><li><a href=#solution>Solution:</a><ol><li><a href=#brute-force-solution>Brute force solution</a></li><li><a href=#optimizing-the-brute-force-solution>Optimizing the brute force solution</a></li><li><a href=#optimal-solution>Optimal solution</a></li></ol></li></ol></nav></details></aside><a href=#remove-k-digits><h1 id=remove-k-digits><span class=hanchor arialabel=Anchor># </span>Remove K digits</h1></a><p>We are given an array of digits $digits[1..n]$, and a number $k$. We must remove k digits from the array. The remaining digits will then correspond to a decimal number. We want this number to be as large as possible. Which digits do we remove?</p><a href=#examples><h3 id=examples><span class=hanchor arialabel=Anchor># </span>Examples:</h3></a><p>$digits=[4,5,2,1]$, k = 2. We remove the 4 and the 1 and are left with the number 45.</p><a href=#solution><h2 id=solution><span class=hanchor arialabel=Anchor># </span>Solution:</h2></a><p>First notice that removing k digits is equivalent to leaving n-k digits. So let&rsquo;s choose which n-k digits we want to leave.</p><a href=#brute-force-solution><h3 id=brute-force-solution><span class=hanchor arialabel=Anchor># </span>Brute force solution</h3></a><p>Just look at all (n-k)-length subsequences of $digits$ and return the one that corresponds to the largest number. This will take about $n<em>C_{n-k}^{n}=n</em>C_{k}^{n}$ operations. Choose any of the digits as the first digit in the final number and recurse to the right. If there aren&rsquo;t enough digits left, it&rsquo;s an invalid solution.</p><a href=#optimizing-the-brute-force-solution><h3 id=optimizing-the-brute-force-solution><span class=hanchor arialabel=Anchor># </span>Optimizing the brute force solution</h3></a><p>When recursing to the right, we are doing repeated work. Define $m = n-k$. The recursion looks like this:</p><p>$$\text{removeK}(digits[1..n],m)=max_{i \in [1..n]}(digits[i]*10^m +\text{removeK}(digits[i+1..n],m-1))$$
$$\text{removeK}(digits[i..n],m)=0,\text{ }n-i+1 \lt m \text{ (can&rsquo;t choose m digits, less than m left)}$$
$$\text{removeK}(digits[i..n],0)=0,\text{ (done with choosing)}$$</p><p>We can make a 2D table to cache solutions to the subproblems. The time complexity will be $O(n<em>k)$, and the space complexity will also be $O(n</em>k)$.</p><a href=#optimal-solution><h3 id=optimal-solution><span class=hanchor arialabel=Anchor># </span>Optimal solution</h3></a><p>Let&rsquo;s first think about the decision space for the problem. We are first going to choose the first digit of the final number, then the second, etc. How many choices do we have for the first digit?</p><p>If we choose $digits[i]$ as the first digit, then none of $digits[1..i-1]$ can be used as digits anymore. Also keep in mind that we <strong>must</strong> choose $m$ digits.</p><p>Well, there are some digits that we cannot choose, namely $digits[m-n+2..n]$. If we choose any of them as the first digit, there will be $m-2$ digits left to choose from and we will have to make $m-1$ choices, which is impossible. We will call elements of $digits$ viable, if they don&rsquo;t lock us out from making choices later down the line.</p><p>Notice that we want the first digit in the resulting number to be as large as possible while also being viable. This is because between two numbers the most significant digit determines which number is greater (lexicographic ordering). What if there are multiple viable maximums in the candidate space? Well, then we choose the leftmost one, because that leaves the most options for the other digits.</p><p>One (systematic) way to do this would be to precompute a modified Range Minimum Query data structure. If we do it optimally, we can solve the given problem in $O(n)$ time and with $O(n)$ space.
<a href=https://en.wikipedia.org/wiki/Range_minimum_query rel=noopener>Range minimum query - Wikipedia</a></p><p>Another way to look at this problem is to see that it&rsquo;s very similar to finding a sliding window maximum with variable length, which we know can be solved in linear time using a monotonic stack.</p><p>At first the sliding window is $digits[1..m-n+1]$. After choosing the i-th digit (the leftmost largest number in this window), the new sliding will become $digits[i+1,m-n+2]$. The right boundary always moves by one, as this corresponds to having one less digit left to choose. We can use a deque sorted in decreasing order (monotonic stack). Each element will be pushed an popped at most once.</p></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/test-blog// data-ctx="Remove K digits to make the maximum value" data-src=/ class=internal-link>Blog</a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://datoad4510.github.io/test-blog/js/graph.abd4bc2af3869a96524d7d23b76152c7.js></script></div></div><div id=contact_buttons><footer><p>Made by Jacky Zhao using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, Â© 2022</p><ul><li><a href=https://datoad4510.github.io/test-blog/>Home</a></li><li><a href=https://twitter.com/_jzhao>Twitter</a></li><li><a href=https://github.com/jackyzha0>Github</a></li></ul></footer></div></div></body></html>